<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<script src="component.js"></script>
	<script src="VendingMachine.js"></script>
	<script src="VendingMachineService.js"></script>
</head>
<body>
<div id="box"></div>
<script>
window.onload = function(){
	const $box = document.getElementById('box')
	$box.innerHTML = ''
	$box.appendChild(compo.inputText('val', 'text'))
	$box.appendChild(compo.br())
	$box.appendChild(compo.inputButton('btn', 'button', '동전투입'))
	
	document
	.getElementById('btn')
	.addEventListener('click', function(){
	//	alert(`${$val.value}`)
		service.insertCoin(document.getElementById('val').value)
		
		$box.innerHTML = ''
		$box.appendChild(compo.div('coke'))
		document
		.getElementById('coke')
		.textContent = '1. 콜라 - 700원'
		$box.appendChild(compo.div('cider'))
		document
		.getElementById('cider')
		.textContent = '2. 사이다 - 800원'
		$box.appendChild(compo.div('juice'))
		document
		.getElementById('juice')
		.textContent = '3. 쥬스 - 1000원'
		$box.appendChild(compo.br())
		$box.appendChild(compo.span('메뉴  번호 입력 : '))
		$box.appendChild(compo.inputText('menu','text'))
		$box.appendChild(compo.br())
		$box.appendChild(compo.span('수량 입력         : '))
		$box.appendChild(compo.inputText('quantity', 'text'))
		$box.appendChild(compo.br())
		$box.appendChild(compo.inputButton('btn','button','메뉴선택'))
		$box.appendChild(compo.br())
		$box.appendChild(compo.br())
		$box.appendChild(compo.div('coin'))
		service.vendingMachine()
		const vm = new VendingMachine()
		document
		.getElementById('coin')
		.textContent = `투입된 금액 : ${vm.getChange()}원`
		document
		.getElementById('btn')
		.addEventListener('click', function(){
			let menuNo = document.getElementById('menu').value
			let quantity = document.getElementById('quantity').value
	
			$box.innerHTML = ''
			$box.appendChild(compo.div('return'))
			
			document
			.getElementById('return')
			.textContent = service.selectItem(menuNo, quantity)
		})
	})
}
	
</script>	
</body>
</html>